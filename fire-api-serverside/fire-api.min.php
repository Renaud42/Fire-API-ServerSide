<?php class Fire_API{public $API_VERSION="1.1";private $API_UPDATE_PAGE="https://api.fire-softwares.ga/?page=download";function updatesCheck(){$updater=new API;try{if($updater->getServerInformation(ServerName::$FIRE_SOFTWARES,ServerInfoType::$ONLINE)===true){$lastversion=$updater->getServerInformation(ServerName::$API_STATUS,ServerInfoType::$VERSION);if(doubleval($lastversion)>doubleval($this->API_VERSION))$this->console_log(Messages::$API_WARNING_PREFIX." ".str_replace("%api-update-page%",$this->API_UPDATE_PAGE,str_replace("%new-version%",$lastversion,Messages::$API_UPDATE_AVAILABLE)),'warn');elseif(doubleval($lastversion)<doubleval($this->API_VERSION))$this->console_log(Messages::$API_WARNING_PREFIX." ".str_replace("%api-update-page%",$this->API_UPDATE_PAGE,str_replace("%lastest-stable%",$lastversion,str_replace("%api-version%",$this->API_VERSION,Messages::$API_BETA))),'warn');else $this->console_log(Messages::$API_PREFIX." ".str_replace("%api-version%",$this->API_VERSION,Messages::$API_UP_TO_DATE));}}catch(Exception $e){$this->console_log(Messages::$API_ERROR_PREFIX." ".Messages::$UPDATE_CHECK_EXCEPTION,'error');$this->console_log(Messages::$API_ERROR_PREFIX." ".$e->getMessage(),'error');}$this->console_log("\n\r".Messages::$API_PREFIX." ".str_replace("%api-version%",$this->API_VERSION,Messages::$API_HELLO));}function __construct(){$this->updatesCheck();}function console_log($output,$command='log',$with_script_tags=true){$js_code='console.'.$command.'('.json_encode($output,JSON_HEX_TAG).');';if($with_script_tags)$js_code='<script>'.$js_code.'</script>';echo $js_code;}}class Messages{public static $SLIDER_CAPTIONS_AND_IMAGES_ARRAYS_NOT_SAME_LENGTH_EXCEPTION="Captions and images arrays need to be same length.";public static $UPDATE_CHECK_EXCEPTION="Can't check for updates :";public static $API_PREFIX="[Fire-API Server-Side]";public static $API_ERROR_PREFIX="[Fire-API Server-Side Error]";public static $API_WARNING_PREFIX="[Fire-API Server-Side Warning]";public static $API_HELLO="Fire-API Server-Side version %api-version% by Fire-Softwares successfully loaded !";public static $API_UP_TO_DATE="You're running the lastest version of Fire-API Server-Side (%api-version%), nice !";public static $API_BETA="Warning : you are using a beta / unstable build of Fire-API Server-Side (%api-version%). If you don't know why you see this warning, go back to lastest stable version (%lastest-stable%) on %api-update-page%. Or else you're in the future of Fire-API 8)";public static $API_UPDATE_AVAILABLE="New update available : Fire-API Server-Side version %new-version%. You can get the update here : %api-update-page%";}class ServerName{public static $FIRE_SOFTWARES=0;public static $FIRE_NETWORK=1;public static $MUMBLE=2;public static $MUMBLE_CVP=996;public static $DISCORD=997;public static $FRAMEWORK_STATUS=998;public static $API_STATUS=999;}class ServerInfoType{public static $CHANNELS=0;public static $CPU_LOAD_0=1;public static $CPU_LOAD_1=2;public static $CPU_LOAD_2=3;public static $DISCORD_ID=4;public static $DISK_MAX=5;public static $DISK_PERCENT=6;public static $DISK_UNIT=7;public static $DISK_USED=8;public static $HOSTNAME=9;public static $MEMBERS=10;public static $MEMBERS_ONLINE=11;public static $MUMBLE_X_CONNECT_URL=12;public static $ONLINE=13;public static $PLAYER_COUNT=14;public static $RAM_MAX=15;public static $RAM_PERCENT=16;public static $RAM_UNIT=17;public static $RAM_USED=18;public static $SERVER_NAME=19;public static $SERVER_STATUS=20;public static $UPTIME=21;public static $VERSION=22;}class API{public function getServerStatusURL($server_name){switch($server_name){case ServerName::$FIRE_SOFTWARES:return Server::$STATUS_0;case ServerName::$FIRE_NETWORK:return Server::$STATUS_1;case ServerName::$MUMBLE:return Server::$STATUS_2;case ServerName::$MUMBLE_CVP:return Server::$STATUS_MUMBLE_CVP;case ServerName::$DISCORD:return Server::$STATUS_DISCORD;case ServerName::$FRAMEWORK_STATUS:return Server::$STATUS_FRAMEWORK;case ServerName::$API_STATUS:return Server::$STATUS_API;default:throw new Exception("Unknown server name");break;}}public function getServerInformation($server_name,$server_info_type){$link=$this->getServerStatusURL($server_name);switch($server_name){case ServerName::$FIRE_SOFTWARES:case ServerName::$FIRE_NETWORK:switch($server_info_type){case ServerInfoType::$CPU_LOAD_0:return json_decode(file_get_contents($link),true)['status']['cpu'][0];case ServerInfoType::$CPU_LOAD_1:return json_decode(file_get_contents($link),true)['status']['cpu'][1];case ServerInfoType::$CPU_LOAD_2:return json_decode(file_get_contents($link),true)['status']['cpu'][2];case ServerInfoType::$DISK_MAX:return json_decode(file_get_contents($link),true)['status']['disk']['total'];case ServerInfoType::$DISK_PERCENT:return json_decode(file_get_contents($link),true)['status']['disk']['percent'];case ServerInfoType::$DISK_UNIT:return json_decode(file_get_contents($link),true)['status']['units']['disk'];case ServerInfoType::$DISK_USED:return json_decode(file_get_contents($link),true)['status']['disk']['used'];case ServerInfoType::$HOSTNAME:return json_decode(file_get_contents($link),true)['status']['hostname'];case ServerInfoType::$ONLINE:return json_decode(file_get_contents($link),true)['status']['online'];case ServerInfoType::$RAM_MAX:return json_decode(file_get_contents($link),true)['status']['ram']['total'];case ServerInfoType::$RAM_PERCENT:return json_decode(file_get_contents($link),true)['status']['ram']['percent'];case ServerInfoType::$RAM_UNIT:return json_decode(file_get_contents($link),true)['status']['units']['ram'];case ServerInfoType::$RAM_USED:return json_decode(file_get_contents($link),true)['status']['ram']['used'];default:die('<b>Fire-API Error : </b>Unknown server information type.<br>See <a href="https://api.fire-softwares.ga/" target="_blank">Fire-API documentation</a> for more help.');break;}case ServerName::$MUMBLE:switch($server_info_type){case ServerInfoType::$ONLINE:return json_decode(file_get_contents($link),true)['status']['online'];case ServerInfoType::$PLAYER_COUNT:return json_decode(file_get_contents($link),true)['status']['players']['online'];default:die('<b>Fire-API Error : </b>Unknown server information type.<br>See <a href="https://api.fire-softwares.ga/" target="_blank">Fire-API documentation</a> for more help.');break;}case ServerName::$MUMBLE_CVP:switch($server_info_type){case ServerInfoType::$CHANNELS:return json_decode(file_get_contents($link),true)['root']['channels'];case ServerInfoType::$MEMBERS_ONLINE:return json_decode(file_get_contents($link),true)['users'];case ServerInfoType::$MUMBLE_X_CONNECT_URL:return json_decode(file_get_contents($link),true)['x_connecturl'];case ServerInfoType::$SERVER_NAME:return json_decode(file_get_contents($link),true)['name'];case ServerInfoType::$UPTIME:return json_decode(file_get_contents($link),true)['uptime'];default:die('<b>Fire-API Error : </b>Unknown server information type.<br>See <a href="https://api.fire-softwares.ga/" target="_blank">Fire-API documentation</a> for more help.');break;}case ServerName::$DISCORD:switch($server_info_type){case ServerInfoType::$CHANNELS:return json_decode(file_get_contents($link),true)['channels'];case ServerInfoType::$DISCORD_ID:return json_decode(file_get_contents($link),true)['id'];case ServerInfoType::$MEMBERS:return json_decode(file_get_contents($link),true)['members'];case ServerInfoType::$SERVER_NAME:return json_decode(file_get_contents($link),true)['name'];default:die('<b>Fire-API Error : </b>Unknown server information type.<br>See <a href="https://api.fire-softwares.ga/" target="_blank">Fire-API documentation</a> for more help.');break;}case ServerName::$FRAMEWORK_STATUS:case ServerName::$API_STATUS:switch($server_info_type){case ServerInfoType::$ONLINE:return json_decode(file_get_contents($link),true)['informations']['online'];case ServerInfoType::$VERSION:return json_decode(file_get_contents($link),true)['informations']['version'];default:die('<b>Fire-API Error : </b>Unknown server information type.<br>See <a href="https://api.fire-softwares.ga/" target="_blank">Fire-API documentation</a> for more help.');break;}default:die('<b>Fire-API Error : </b>Unknown server name.<br>See <a href="https://api.fire-softwares.ga/" target="_blank">Fire-API documentation</a> for more help.');break;}}}class MathConstants{public static $CHAMPERNOWNE=0.12345678910111;public static $C10=0.12345678910111;public static $GOLD_NUMBER=1.61803398875;public static $GOLD_SECTION=1.61803398875;public static $GOD_NUMBER=1.61803398875;}class PhysChemConstants{public static $AVOGADRO=6.022140857*10 ** 23;public static $BOLTZMANN=1.38066*10 **(-23);public static $kB=1.38066*10 **(-23);public static $C=2.99792458*10 ** 8;public static $LIGHT_SPEED=2.99792458*10 ** 8;public static $EARTH_GRAVITATIONAL_FORCE=9.80665;public static $ELEMENTARY_CHARGE=1.60219*10 **(-19);public static $FARADAY=96484;public static $G=6.672*10 **(-11);public static $GRAVITATIONAL_CONSTANT=6.672*10 **(-11);public static $PERFECT_GASSES=8.3144;public static $PLANCK=6.62617;public static $ELECTRON_MASS=9.10953*10 **(-31);public static $NEUTRON_MASS=1.675*10 **(-27);public static $PROTON_MASS=1.673*10 **(-27);}class Server{public static $STATUS_0="https://panel.omgserv.com/json/256696/status";public static $STATUS_1="https://panel.omgserv.com/json/180278/status";public static $STATUS_2="https://panel.omgserv.com/json/239015/status";public static $STATUS_API="https://api.fire-softwares.ga/api.json";public static $STATUS_DISCORD="https://canary.discordapp.com/api/guilds/139106057522774016/widget.json";public static $STATUS_FRAMEWORK="https://api.fire-softwares.ga/framework.php";public static $STATUS_MUMBLE_CVP="https://panel.omgserv.com/viewer/239015?cvp";}class OperatingSystem{public function getClientBrowser($user_agent){$browser="Not recognized browser";$browser_array=array('/msie/i'=>'Internet Explorer','/firefox/i'=>'Firefox','/safari/i'=>'Safari','/chrome/i'=>'Chrome','/edge/i'=>'Edge','/opera/i'=>'Opera','/netscape/i'=>'Netscape','/maxthon/i'=>'Maxthon','/konqueror/i'=>'Konqueror','/mobile/i'=>'Handheld Browser','/firebrowser/i'=>'Fire-Browser','/xiaomi/i'=>'Mi Browser');foreach($browser_array as $regex=>$value)if(preg_match($regex,$user_agent))$browser=$value;return $browser;}public function getClientOS($user_agent){$os_platform="Not recognized operating system";$os_array=array('/windows nt 10/i'=>'Windows 10','/windows nt 6.3/i'=>'Windows 8.1','/windows nt 6.2/i'=>'Windows 8','/windows nt 6.1/i'=>'Windows 7','/windows nt 6.0/i'=>'Windows Vista','/windows nt 5.2/i'=>'Windows Server 2003/XP x64','/windows nt 5.1/i'=>'Windows XP','/windows xp/i'=>'Windows XP','/windows nt 5.0/i'=>'Windows 2000','/windows me/i'=>'Windows ME','/win98/i'=>'Windows 98','/win95/i'=>'Windows 95','/win16/i'=>'Windows 3.11','/macintosh|mac os x/i'=>'Mac OS X','/mac_powerpc/i'=>'Mac OS 9','/linux/i'=>'Linux','/ubuntu/i'=>'Ubuntu','/iphone/i'=>'iPhone','/ipod/i'=>'iPod','/ipad/i'=>'iPad','/android/i'=>'Android','/blackberry/i'=>'BlackBerry','/webos/i'=>'Mobile');foreach($os_array as $regex=>$value)if(preg_match($regex,$user_agent))$os_platform=$value;return $os_platform;}public function getServerOS(){return php_uname('s');}}class WebFrameworkComponentBuilder{public static function formatColorSchemeClasses($theme_class,$secondary=false){return $theme_class." ".($secondary?"secondary":"primary");}public function alertBox($formatted_color_scheme_classes,$title,$message,$closable=true,$animated=true,$alert_close_animated=true,$style="",$id=""){return '<div '.($id!=""?'id="'.$id.'" ':'').'class="'.$formatted_color_scheme_classes.' alert'.($animated?' animated-alert':'').'">'.($closable?'<span class="alert-close'.($alert_close_animated?' animated-alert-close':'').'">&times;</span>':'').'<span class="alert-title">'.$title.'</span>
'.$message.'</div>';}public function badge($formatted_color_scheme_classes,$content,$style="",$id=""){return '<span '.($id!=""?'id="'.$id.'" ':'').($style!=""?'style="'.$style.'" ':'').'class="'.$formatted_color_scheme_classes.' badge">'.$content.'</span>';}public function button($formatted_color_scheme_classes,$content,$style="",$id="",$url="",$open_in_new_tab=false,$dropdown_button=false){return '<button '.($id!=""?'id="'.$id.'" ':'').($style!=""?'style="'.$style.'" ':'').($url!=""?'onclick="'.($open_in_new_tab?'window.open(\''.$url.'\');':'window.location.href = \''.$url.'\';').'" ':'').'class="'.$formatted_color_scheme_classes.' button'.($dropdown_button?' dropdown-button':'').'">'.$content.'</button>';}public function dropdown($formatted_color_scheme_classes,$title_content,$content_id,$content="",$style="",$id="",$arrow=true){return '<div class="dropdown" '.($id!=""?'id="'.$id.'"':'').'>'.$this->button($formatted_color_scheme_classes,$title_content.($arrow?' ▼':''),$style,($id!=""?$id.'-button" onclick="dropdown(\''.$content_id.'\')':'" onclick="dropdown(\''.$content_id.'\')'),"",false,true).$content.'</div>';}public function hypertext($formatted_color_scheme_classes,$content,$url="",$style="",$newTab=false,$thin=false,$id=""){return '<a '.($id!=""?'id="'.$id.'" ':'').($style!=""?'style="'.$style.'" ':'').($url!=""?'href="'.$url.'" ':'').($newTab?'target="_blank" ':'').'class="'.$formatted_color_scheme_classes.' hypertext'.($thin?'-thin':'').'">'.$content.'</a>';}public function slider($formatted_color_scheme_classes,$images,$captions,$style="",$animated=true,$id=""){if(count($images)===count($captions)){$slider='<div class="slider"'.($id!=""?' id="'.$id.'-slider"':'').'>';$sliderDots='<div class="slider-dots">';for($i=0;$i<count($images);$i++)$slider.='<div class="slider-item'.($animated?' slider-animated':'').'"><img src="'.$images[$i].'"/><div class="slider-caption">'.$captions[$i].'</div></div>';$slider.='<a class="slider-previous'.($animated?' slider-buttons-animated':'').'" onclick="plusSlides(-1)">&#10094;</a><a class="slider-next'.($animated?' slider-buttons-animated':'').'" onclick="plusSlides(1)">&#10095;</a>';for($i=1;$i<=count($images);$i++)$sliderDots.='<span class="slider-dot" onclick="currentSlide('.$i.')"></span>';$slider.="</div><br/>";$sliderDots.="</div>";return '<div '.($id!=""?'id="'.$id.'" ':'').($style!=""?'style="'.$style.'" ':'').'class="'.$formatted_color_scheme_classes.' slider-container">'.$slider.$sliderDots.'</div>';}else throw new Exception(Messages::$SLIDER_CAPTIONS_AND_IMAGES_ARRAYS_NOT_SAME_LENGTH_EXCEPTION);}public function input($formatted_color_scheme_classes,$input_type,$placeholder,$name,$value,$spellcheck=true,$id="",$style=""){return '<input type="'.$input_type.'" '.($id!=""?'id="'.$id.'" ':'').($style!=""?'style="'.$style.'" ':'').($placeholder!=""?'placeholder="'.$placeholder.'" ':'').($name!=""?'name="'.$name.'" ':'').($value!=""?'value="'.$value.'" ':'').($spellcheck?'spellcheck="true" ':'spellcheck="false" ').'class="'.$formatted_color_scheme_classes.' '.$input_type.'-input"'.'></input>';}public function radioInput($formatted_color_scheme_classes,$text,$name,$checked=false,$id="",$style="",$radio=true){$radio_or_checkbox=($radio?'radio':'checkbox');return '<label '.($id!=""?'id="'.$id.'" ':'').($style!=""?'style="'.$style.'" ':'').'class="'.$formatted_color_scheme_classes.' '.$radio_or_checkbox.'-container">'.$text.'<input type="'.$radio_or_checkbox.'" name="'.$name.'"'.($checked?' checked="checked"':'').'><span class="'.$radio_or_checkbox.'-input"></span></label>';}public function checkBoxInput($formatted_color_scheme_classes,$text,$name,$checked=false,$id="",$style=""){return $this->radioInput($formatted_color_scheme_classes,$text,$name,$checked,$id,$style,false);}public function modal($header_formatted_color_scheme_classes,$body_formatted_color_scheme_classes,$footer_formatted_color_scheme_classes,$header_content,$body_content,$footer_content,$id,$style="",$closable=true,$animated=true,$animated_close_button=true){return '<div id="'.$id.'"'.($style!=""?' style="'.$style.'"':'').' class="modal"><div class="modal-content'.($animated?' animated-modal':'').'"><div class="'.$header_formatted_color_scheme_classes.' modal-header"><span class="modal-close'.($animated_close_button?' animated-modal-close':'').'" onclick="closeModal(\''.$id.'\')">&times;</span>'.$header_content.'</div><div class="'.$body_formatted_color_scheme_classes.' modal-body">'.$body_content.'</div><div class="'.$footer_formatted_color_scheme_classes.' modal-footer">'.$footer_content.'</div></div></div>';}public function progressBar($formatted_color_scheme_classes,$background_formatted_color_scheme_classes,$id,$style="",$percentage=.0){return '<div id="'.$id.'" class="'.$background_formatted_color_scheme_classes.' progress"><div class="'.$formatted_color_scheme_classes.' progressbar" style="width: '.($percentage*100).'%; '.$style.'"></div></div>';}public function tooltip($formatted_color_scheme_classes,$htmlCode,$content,$id="",$style=""){return '<div '.($id!=""?'id="'.$id.'" ':'').($style!=""?'style="'.$style.'" ':'').'class="tooltip">'.$htmlCode.'<span '.($id!=""?'id="'.$id.'-tooltip-content" ':'').'class="'.$formatted_color_scheme_classes.' tooltip-content">'.$content.'</span></div>';}}class WebFrameworkComponentInteraction{function toggleDropdown($dropdownId){echo "<script>dropdown('".$dropdownId."');</script>";}function openModal($modalId){echo "<script>openModal('".$modalId."');</script>";}function closeModal($modalId){echo "<script>closeModal('".$modalId."');</script>";}function echoProgressValue($progressId){echo "<script>getProgressValue('".$progressId."');</script>";}function setProgressValue($progressId,$value){echo "<script>setProgressValue('".$progressId."', ".$value.");</script>";}function plusSlides($n){echo "<script>plusSlides(".$n.");</script>";}function currentSlide($n){echo "<script>currentSlide(".$n.");</script>";}function domSyntaxicColoration($id,$autowidth=true,$mode="html"){echo "<script>domSyntaxicColoration('".$id."', ".$autowidth.", ".$mode.");</script>";}} ?>
